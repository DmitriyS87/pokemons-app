(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{325:function(e,t,a){e.exports=a(670)},330:function(e,t,a){},331:function(e,t,a){},649:function(e,t){},670:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(25),s=a.n(o),i=(a(330),a(12)),l=a(8),c=a(21),u=a(19),h=a(20),d=(a(331),a(27)),p=a(103),m=a.n(p),g=a(67),f=a.n(g),k=a(40),b=a(28),y=a(149),v=a.n(y),P=a(98),O=a.n(P),j=a(241),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).toggleChange=function(e){a.setState({isChecked:!a.state.isChecked,color:a.state.isChecked?a.sameColor:a.baseColor,backgroundcolor:a.state.isChecked?a.baseColor:a.sameColor}),a.props.onChangeCallback(e.target.name)},a.baseColor=a.props.color,a.sameColor="white",a.state={isChecked:!0,color:a.baseColor,backgroundcolor:a.sameColor},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={padding:"5px 10px 5px 10px",margin:"5px",borderRadius:"15px",backgroundColor:this.state.backgroundcolor,cursor:"pointer"},t={display:"flex",alignItems:"center",color:this.state.color,cursor:"pointer"};return r.a.createElement("div",{style:e},r.a.createElement("label",{style:t},r.a.createElement(j.a,{name:this.props.labelText,type:"checkbox",style:{display:"none"},checked:this.state.isChecked,onChange:this.toggleChange}),this.props.labelText))}}]),t}(r.a.Component),E=new Map([["normal","Silver"],["fighting","YellowGreen"],["flying","Fuchsia"],["poison","Purple"],["ground","Red"],["rock","Maroon"],["bug","Yellow"],["ghost","Olive"],["steel","Lime"],["fire","Green"],["water","Aqua"],["grass","Teal"],["electric","Blue"],["psychic","Navy"],["ice","Chocolate"],["dragon","DarkGoldenRod"],["dark","DarkSlateBlue"],["fairy","OrangeRed"],["unknown","DarkSlateGray"],["shadow","Gray"]]),w=[],L=function(){var e={},t=!0,a=!1,n=void 0;try{for(var r,o=E.keys()[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;e[s]=!0,w.push(s)}}catch(i){a=!0,n=i}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}return e},T={root:{color:v.a[600],"&$checked":{color:v.a[500]}},checked:{}},S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state=L(),a.handleClick=a.handleClick.bind(Object(k.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e){this.props.store._filterByTags(e)}},{key:"render",value:function(){var e=this;return r.a.createElement(O.a,{row:!0},r.a.createElement("div",{style:{padding:"5px 10px 5px 10px",display:"flex",flexWrap:"wrap",alignContent:"space-between"}},w.map(function(t,a){return r.a.createElement(C,{key:"checkbox"+a,labelText:t,onChangeCallback:e.handleClick,color:E.get(t)})})))}}]),t}(r.a.Component),x=Object(d.withStyles)(T)(Object(b.b)("store")(S)),_=a(99),D=a.n(_),B=a(58),N=a.n(B),F=a(33),H=a.n(F),R=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={term:"",placeholder:"Name"},a.handleChange=a.handleChange.bind(Object(k.a)(a)),a.onFocusHandler=a.onFocusHandler.bind(Object(k.a)(a)),a.onBlurHandler=a.onBlurHandler.bind(Object(k.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=e.target.value;this.props.store.searchTerm=t,this.setState({term:t})}},{key:"onFocusHandler",value:function(){this.setState({placeholder:""})}},{key:"onBlurHandler",value:function(){this.setState({placeholder:"Name"})}},{key:"render",value:function(){return r.a.createElement("input",{type:"text",name:"name",value:this.state.term,placeholder:this.state.placeholder,onChange:this.handleChange,onFocus:this.onFocusHandler,onBlur:this.onBlurHandler})}}]),t}(r.a.Component),A=Object(b.b)("store")(R),G=[{id:"image",disablePadding:!0,label:"Avatar"},{id:"hp",disablePadding:!0,label:"Hp"},{id:"attack",disablePadding:!0,label:"Attack"},{id:"defense",disablePadding:!0,label:"Defense"},{id:"special-attack",disablePadding:!0,label:"Special Att"},{id:"special-defense",disablePadding:!0,label:"Special Def"},{id:"speed",disablePadding:!0,label:"Speed"},{id:"accuracy",disablePadding:!0,label:"Accuracy"},{id:"evasion",disablePadding:!0,label:"Evasion"},{id:"types",disablePadding:!1,label:"Types"}],M=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).createChangeHandler=function(e){return function(t){a.props.onChangeInputHandler(t,e)}},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(D.a,null,r.a.createElement(N.a,null,r.a.createElement(H.a,{key:"name",align:"left",padding:"default"},r.a.createElement(A,{onChangeHandler:this.createChangeHandler("name")})),G.map(function(e){return r.a.createElement(H.a,{key:e.id,align:"center",padding:e.disablePadding?"none":"default"},r.a.createElement("label",null,e.label))},this)))}}]),t}(r.a.Component),W=a(100),I=a.n(W),Y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChangePage=function(e,t){a.props.store.setState({currentPage:t})},a.handleChangeRowsPerPage=function(e){var t=e.target.value;a.props.store.setState({rowsPerPage:t})},a.MaterialPagination=I.a,a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.store.currentPage,t=this.props.store.rowsCount,a=this.props.store.state.pokemonsCount;return r.a.createElement(this.MaterialPagination,{rowsPerPageOptions:[10,20,50],component:"div",count:a,rowsPerPage:t,page:e,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})}}]),t}(r.a.Component),q=Object(b.b)("store")(Object(b.c)(Y)),J=a(68),U=a.n(J),$=a(69),K=a.n($),X=Object(d.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},spacer:{flex:"1 1 100%"},title:{flex:"0 0 auto"}}})(function(e){var t=e.classes;return r.a.createElement(U.a,{className:t.root},r.a.createElement("div",{className:t.title},r.a.createElement(K.a,{variant:"h6",id:"tableTitle"},"POKEMONS LIST")),r.a.createElement("div",{className:t.spacer}))}),z=a(102),Q=a.n(z),V=a(101),Z=a.n(V),ee=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{key:this.props.name+this.props.id,style:{color:this.props.color}},this.props.name)}}]),t}(r.a.Component),te=["hp","attack","defense","special-attack","special-defense","speed","accuracy","evasion"],ae=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={dataLoaded:!1,data:{}},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"dataCells",value:function(e){var t=this;return!!e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{align:"left"},r.a.createElement(Z.a,{alt:"img",src:this.state.data.avatar})),te.map(function(e){return r.a.createElement(H.a,{key:t.state.data.id+e,align:"right"},t.state.data[e])}),r.a.createElement(H.a,{align:"right"},this.state.data.types.map(function(e){return r.a.createElement(ee,{key:t.state.data.id+e.name[0],name:e.name[0],color:e.color,id:t.state.data.id+e.name[0]})})))}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.item!==e.item&&this.props.store.getPokemonData(this.item).then(function(e){t.setState({data:e})})}},{key:"componentDidMount",value:function(){var e=this;this.props.store.getPokemonData(this.item).then(function(t){e.setState({dataLoaded:!0,data:t})})}},{key:"render",value:function(){return this.item=this.props.item,r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{component:"th",scope:"row",padding:"default"},this.item.name),this.dataCells(this.state.dataLoaded))}}]),t}(r.a.Component),ne=Object(b.b)("store")(ae),re=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,null,this.props.store.displayList.slice().map(function(e,t){return r.a.createElement(N.a,{hover:!0,tabIndex:-1,key:t},r.a.createElement(ne,{item:e}))})))}}]),t}(r.a.Component),oe=Object(b.b)("store")(Object(b.c)(re)),se=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(f.a,{className:e.root},r.a.createElement(X,null),r.a.createElement("div",{className:e.title},r.a.createElement(x,null)),r.a.createElement("div",{className:e.tableWrapper},r.a.createElement(m.a,{className:e.table,"aria-labelledby":"tableTitle"},r.a.createElement(M,null),r.a.createElement(oe,null))),r.a.createElement(q,null))}}]),t}(r.a.Component),ie=Object(d.withStyles)(function(e){return{root:{width:"90%",marginTop:3*e.spacing.unit,marginLeft:3*e.spacing.unit},table:{minWidth:1200},tableWrapper:{overflowX:"auto"}}})(se),le=a(246),ce=a(5),ue=a(243),he=a(150),de=a.n(he),pe=a(244),me=a.n(pe),ge=["hp","attack","defense","special-attack","special-defense","speed","accuracy","evasion"],fe=new Map([["normal","Silver"],["fighting","YellowGreen"],["flying","Fuchsia"],["poison","Purple"],["ground","Red"],["rock","Maroon"],["bug","Yellow"],["ghost","Olive"],["steel","Lime"],["fire","Green"],["water","Aqua"],["grass","Teal"],["electric","Blue"],["psychic","Navy"],["ice","Chocolate"],["dragon","DarkGoldenRod"],["dark","DarkSlateBlue"],["fairy","OrangeRed"],["unknown","DarkSlateGray"],["shadow","Gray"]]),ke=function(){function e(t){var a=this;Object(i.a)(this,e),this.id=String(t.id)||0,this.name=String(t.name)||"",ge.forEach(function(e){var n=t.stats.find(function(t){return t.stat.name===e});a[e]=n?n.base_stat:0}),this.types=this.setTypes(t.types),this.avatar=String(t.avatar)||""}return Object(l.a)(e,[{key:"setTypes",value:function(e){return e.map(function(e,t){return{name:[e.type.name],color:fe.get(e.type.name)||"red"}})}}],[{key:"parsePokemon",value:function(t){return new e(t)}},{key:"parsePokemons",value:function(t){return t.map(function(t){return e.parsePokemon(t)})||""}}]),e}(),be=a(245),ye=new(a.n(be).a),ve=new(function(){function e(){Object(i.a)(this,e),this.P=ye}return Object(l.a)(e,[{key:"getTypes",value:function(){return this.P.getTypesList().catch(function(e){console.log(e)})}},{key:"getTypePokemons",value:function(e){return this.P.resource(e).catch(function(e){console.log(e)})}},{key:"getPokemonsList",value:function(){return this.P.getPokemonsList().catch(function(e){console.log(e)})}},{key:"getPokemons",value:function(){return this.P.resource("/api/v2/pokemon/").catch(function(e){console.log(e)})}},{key:"getPokemonData",value:function(e){return e?this.P.resource(e):new Error("url is not valid")}}]),e}()),Pe=10,Oe=0,je=function(){function e(){Object(i.a)(this,e),this.tagsList=[],this.pokemonsList=[],this.screenPokemons=[],this.state={term:"",selectedTags:[],pokemonsTagsSelected:[],pokemonsCount:Oe,pokemonsList:"init",currentPage:Oe,rowsPerPage:Pe},this._init()}return Object(l.a)(e,[{key:"tableListLength",value:function(e){this.setState({pokemonsCount:e})}},{key:"pokemons",value:function(e){this.pokemonsList=e.splice(0)}},{key:"setTagsList",value:function(e){this.tagsStore=e}},{key:"setState",value:function(e){for(var t=0,a=Object.keys(e);t<a.length;t++){var n=a[t];this.state[n]=e[n]}}},{key:"filterTags",value:function(e){var t=this.state.selectedTags.slice(),a=t.indexOf(e);return-1===a?t.push(e):t.splice(a,1),t}},{key:"exportPokemonsData",get:function(){var e=this;return this.pokemonsList.filter(Object(ue.createFilter)(e.state.term,"name"))}},{key:"tagFilterEnabled",get:function(){return this.state.pokemonsList}},{key:"currentTagsLists",get:function(){var e=this,t=this.state.selectedTags.map(function(t){return e.tagsStore[t]});return t||[]}},{key:"displayList",get:function(){var e=this;return Promise.resolve(this.exportPokemonsData).then(function(t){e.tableListLength(t.length)}),this._spliceToTablePage(this.exportPokemonsData)}},{key:"rowsCount",get:function(){return this.state.rowsPerPage}},{key:"currentPage",get:function(){return this.state.currentPage}},{key:"pokemonsLength",get:function(){return this.state.pokemonsCount}},{key:"offset",get:function(){return this.state.currentPage*this.state.rowsPerPage}},{key:"searchTerm",set:function(e){this.setState({term:e})}},{key:"page",set:function(e){this.setState({currentPage:e})}}]),Object(l.a)(e,[{key:"_filterByTags",value:function(e){var t=this,a=this.filterTags(e);if(this.setState({selectedTags:a}),a.length>0){var n=this.state.selectedTags.map(function(e){return t.tagsStore[e]});this.getPromiseList(n).then(this.onTagsLists,this.onErrorList)}else this.pokemons(this.screenPokemons.slice())}},{key:"onTagsLists",value:function(e){var t=e.map(function(e){return e.map(function(e){return e.pokemon})}),a=this._comparePokemonsLists(t);this.pokemons(a)}},{key:"onErrorList",value:function(e){this.pokemons([]),console.log(e)}},{key:"_setPokimonsByTags",value:function(e){var t=this,a={};e.forEach(function(e){a[e.name]=t._loadPokemonsWithTag(e.url)}),this.setTagsList(a)}},{key:"getPromiseList",value:function(e){return Promise.all(e)}},{key:"_comparePokemonsLists",value:function(e){if(e.length>1){var t,a=e.length,n=me.a.sortBy((t=[]).concat.apply(t,Object(le.a)(e)),[function(e){return e.name}]);return de.a.sortedUniqBy(de.a.compact(n.map(function(e,t,n){return n.filter(function(t){return t.name===e.name}).length===a?e:""})),function(e){return e.name})}return e[0]}},{key:"loadPokemonData",value:function(e){var t=e.name,a=e.url;return ve.getPokemonData(a).then(function(e){var n={id:e.id,name:t,avatar:e.sprites.front_default,stats:e.stats,types:e.types,url:a};return ke.parsePokemon(n)}).catch(function(e){console.log(e)})}},{key:"getPokemonData",value:function(e){return this.loadPokemonData(e)}},{key:"_init",value:function(){var e=this;this._loadTypesList().then(function(t){return e.tagsList=t.results,t.results}).then(function(t){e._setPokimonsByTags(t)}),this._loadPokemonsList().then(this._onSuccessPokemons,this._onErrorPokemons)}},{key:"_onSuccessPokemons",value:function(e){return this.screenPokemons=Array.from(e.results).slice(),this.pokemons(e.results),this.setState({pokemonsList:"done"}),this.tableListLength(e.results.length),e.results}},{key:"_onErrorPokemons",value:function(e){return this.setState({pokemonsList:"error"}),console.log(e),[]}},{key:"_spliceToTablePage",value:function(e){return Array.from(e).slice(0).splice(this.offset,this.state.rowsPerPage)}},{key:"_loadPokemonsWithTag",value:function(e){return ve.getTypePokemons(e).then(function(e){return e.pokemon})}},{key:"_loadTypesList",value:function(){return ve.getTypes("https://pokeapi.co/api/v2/type/").catch(function(e){console.log(e)})}},{key:"_loadPokemonsList",value:function(){return ve.getPokemonsList()}},{key:"_loadPokemonsData",value:function(e){var t=this,a=e.map(function(e,a){var n=t.storedPokemons.filter(function(t){return t.url===e.url});return 1===n.length?n[0]:t.loadPokemonData(e)});return Promise.all(a)}}]),e}();Object(ce.h)(je,{pokemonsList:ce.m.ref,screenPokemons:ce.m.ref,state:ce.m,currentTagsLists:ce.e,displayList:ce.e,exportPokemonsData:ce.e,tagFilterEnabled:ce.e,rowsCount:ce.e,pokemonsLength:ce.e,currentPage:ce.e,offset:ce.e,setTagsList:ce.d,setState:ce.d,filterTags:ce.d,tableListLength:ce.d,_onSuccessPokemons:ce.d.bound,_onErrorPokemons:ce.d.bound,pokemons:ce.d,onTagsLists:ce.d.bound,onErrorList:ce.d.bound});var Ce=new je,Ee=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={store:Ce};return r.a.createElement(b.a,e,r.a.createElement("div",{className:"App"},r.a.createElement(ie,null)))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(Ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[325,1,2]]]);
//# sourceMappingURL=main.7f92c475.chunk.js.map